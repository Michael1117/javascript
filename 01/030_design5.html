<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title></title>
    <style type="text/css"></style>
</head>
<body>
<script type="text/javascript">
    // 惰性单体 (和闭包单体有一些相似的地方)

    // 命名空间
    /*var Ext = {};
    Ext.Base = (function () {
        // 私有变量  控制返回的单体对象
        var uniqInstance;   // undefined
        // 需要一个构造器 init 初始化单体对象的方法
        function init() {
            var a1 = 10;
            var a2 = true;
            var fn1 = function () {
                console.log('fn1');
            }
            var fn2 = function () {
                console.log('fn2');
            }
            return {
                attr1: a1,
                attr2: a2,
                method1: function () {
                    return fn1()
                },
                method2: function () {
                    return fn2()
                }
            }
        }
        // 私有成员变量
        return {
            getInstance: function () {
                if(!uniqInstance) { // 如果不存在 创建单体实例
                    uniqInstance = init();
                }
                return uniqInstance;
            }
        }
    })()

    console.log(Ext.Base.getInstance());

    console.log(Ext.Base.getInstance().attr2);*/

    // 分支单体 （判断程序的分支 <浏览器异常的检测>）

    var Ext = {};
    var def = true;
    Ext.More = (function () {
       var objA = {  // 火狐浏览器  内置的一些配置

           attr1: 'FF属性1',
           attr2: 'FF属性2',

           // 属性1
           // 属性2
           // 方法1
           // 方法2
       }
       var objB = {  // IE浏览器  内置的一些配置
           attr1: 'IE属性1',
           attr2: 'IE属性2',
           // 属性1
           // 属性2
           // 方法1
           // 方法2
       }

       return (def) ? objA : objB
    })()

    console.log(Ext.More.attr1);
</script>
</body>
</html>
